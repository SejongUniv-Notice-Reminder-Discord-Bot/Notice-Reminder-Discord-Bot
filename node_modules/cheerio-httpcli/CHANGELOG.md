# 0.8.2 (2021-07-22)

* 依存ライブラリを(ほぼ)最新バージョンに更新
* `set('browser', ...)`で指定する一部のブラウザのバージョンを一部更新
* 一部テストがエラーになるケースを修正
* node.js v16で今までと一部挙動が異なるケースに対応

# 0.8.1 (2020-06-18)

* カスタムUAを設定したメインインスタンスから`fork()`した際に警告が出るのを修正

# 0.8.0 (2020-06-11)

### NEW

* マルチインスタンス対応(`fork()`)
* クッキーの読み書き対応(`importCookies()`、`exportCookies()`)
* `form`のファイルアップロード対応(`$('input[type=file]').file()`)

### IMPROVEMENTS

* `a`要素でも`download()`が実行できるように変更
* downloadストリームにファイル名を指定して保存を追加(`saveAs()`)
* downloadストリームの`toBuffer()`でコールバックを省略したらプロミス形式で実行するように変更
* `set('browser', ...)`で指定する一部のブラウザのバージョンを一部更新
* `set('browser', ...)`で指定するブラウザ種類に`yandex`と`switch`を追加
* 依存ライブラリを(ほぼ)最新バージョンに更新
* 郵便番号データダウンロードサンプル追加
* ファイルアップロードサンプル追加

### FIXES(breaking)

* downloadストリームの`toBuffer()`でエラーが発生した時に例外を発生させるのではなく、コールバックの第1引数にエラーオブジェクトをセットして返すように変更
* サポート対象Node.jsバージョンを8に変更(6でも動くようには組んでいるが動作確認はしない)
* WEBサイトの仕様変更などで動作しなくなったサンプルを削除

# 0.7.4 (2019-03-04)

* Webpack環境下(node)でもある程度動作するように対応(一部制限あり)
* `set('browser', ...)`で指定する一部のブラウザのバージョンを一部更新
* 依存ライブラリを(ほぼ)最新バージョンに更新
* 画像ダウンロードのサンプルをtiqav.comからいらすとやに変更
* サポート対象Node.jsバージョンを6に変更

# 0.7.3 (2018-04-28)

* `form`の`accept-charset`属性の複数のエンコーディング指定に対応(先頭で指定されているものを使用)
* Node.jsバージョン10でテストが失敗したりDEPRECATEDメッセージが出るのを修正
* サポート対象Node.jsバージョンを4に変更
* `set('browser', ...)`で指定する一部のブラウザのバージョンを一部更新
* `set('browser', ...)`で指定するブラウザ種類に`ps4`と`3ds`を追加
* exampleの2chを5chに変更
* 依存ライブラリを(ほぼ)最新バージョンに更新
* READMEにhttps接続に関するエラーについてのTipsを追加

# 0.7.2 (2017-11-10)

* `agentOptions`追加
* 内部で設定していたsecureOptionsを削除
* 依存ライブラリを(ほぼ)最新バージョンに更新
* `package.json`に残っていた不要なライブラリの削除

# 0.7.1 (2017-09-12)

* `Download.Manager`がメソッドチェーンできるように型定義ファイルを修正
* README.mdのリンク切れ修正

# 0.7.0 (2017-05-31)

### IMPROVEMENTS

* `form`の`accept-charset`属性に対応
* プロパティ更新時の値の型チェック追加
* 依存ライブラリを(ほぼ)最新バージョンに更新
* 主要ブラウザのUserAgent更新

### FIXES(bug)

* `src`のない`img`要素の`download()`でエラーになるのを修正

### FIXES(breaking)

* サポート対象Node.jsバージョンを0.12に変更
* `setBrowser()`が値を返さないように変更
* DEPRECATEDな操作やメソッド実行時にメッセージを表示するように変更

### DEPRECATED

* `setBrowser()`/`setIconvEngine()`を将来廃止予定に
* プロパティ値の直接更新を将来廃止予定に

# 0.6.11 (2017-02-03)

* 依存ライブラリを最新バージョンに更新
* `set()`実装
* TypeScript用定義ファイル更新

# 0.6.10 (2017-01-03)

* 依存ライブラリを最新バージョンに更新
* 主要ブラウザのUserAgent更新
* Content-TypeやURLの拡張子からXMLであると判別された場合は`cheerio.load()`時に`xmlMode`を`true`にするように変更
* 上記自動判別を行わないオプション`forceHtml`を追加(デフォルト: `false`)
* `$.documentInfo()`に`isXml`プロパティを追加(XMLモードでパースされたかどうか)
* TypeScript用定義ファイル(ベータ版)同梱

# 0.6.9 (2016-08-23)

* 依存ライブラリを最新バージョンに更新
* Electron上で同期リクエストは未サポートのメッセージを表示するように変更
* POST後のリダイレクト先が相対パスの時にエラーになっていたのを修正(#15)

# 0.6.8 (2016-04-12)

* `$.html()`で取得するHTMLがエンティティ化されていたのを修正

# 0.6.7 (2016-04-07)

* 依存ライブラリを最新バージョンに更新
* `reset()`実装
* 一部promiseのテストが機能していなかったのを修正

# 0.6.6 (2016-03-26)

* `field()`でフォーム部品の値をセットした後にメソッドチェーンできていなかったのを修正
* 依存ライブラリを最新バージョンに更新
* eslintのdeprecatedなルールを修正して最新版でもlintできるように修正

# 0.6.5 (2016-02-05)

* `fetch()`時に`get-param`を省略して`encode`を指定した時の引数調整がまだおかしかったのを修正
* `fetchSync()`のエンコーディング指定オプションの説明を修正
* README.mdのアンカー設定の修正

# 0.6.4 (2016-02-05)

* `fetch()`時に`get-param`を省略して`encode`を指定した時の引数調整がおかしかったのを修正
* `fetch()`のエンコーディング指定オプションの説明をREADME.mdに追加

# 0.6.3 (2016-02-01)

* 依存ライブラリを最新バージョンに更新
* `followMetaRefresh`が有効でMETAタグのRefresh先のURLが相対パスの時にリダイレクトできない不具合を修正
* `followMetaRefresh`のデフォルトを`false`に変更

# 0.6.2 (2016-01-14)

* `followMetaRefresh`オプション追加(METAタグRefreshでリダイレクトするかどうかの指定)

# 0.6.1 (2016-01-14)

* package.jsonへの依存モジュール追加漏れ対応
* METAタグRefreshを検知してリダイレクトするように変更(ただしIE条件付きコメント内は除外)
* POST後の自力リダイレクト時にリクエストヘッダのHostを更新するようにした

# 0.6.0 (2016-01-11)

### NEW(beta)

* 同期リクエスト実装(`fetchSync()`/`clickSync()`/`submitSync()`)
* `img`要素に`download()`実装
* `a`要素、`img`要素に`url()`実装
* submit系ボタンに`click()`を実装(押されたボタンの情報がフォーム送信時にパラメータとしてセットされる)
* `checkbox`要素、`radio`要素に`tick()`/`untick()`実装
* `form`要素に`field()`実装

### IMPROVEMENTS

* 依存ライブラリを最新バージョンに更新
* `setBrowser()`で指定する一部のブラウザのバージョンを一部更新
* Accept-Languageヘッダを指定していない場合は実行環境のロケールから言語を取得してセットするように変更(WindowsかつNode.js v0.10以下の環境では未対応)
* Acceptヘッダを指定していない場合は一般的なブラウザのAcceptヘッダをセットするように変更
* `data()`や`attr()`などで元からエンティティ化されている文字列がデコードされるように修正
* cheerioのオリジナルの`html()`を`_html()`から`entityHtml()`に変更(全部の文字がエンティティ化されたhtmlを返す)
* example追加

### FIXES(breaking)

* `$('form').submit()`時にsubmit系ボタンの情報を送信パラメータにセットしないように変更(1つのフォームに複数submit系ボタンがある場合の挙動がおかしくなっていたのを修正)
* `setBrowser()`で指定するブラウザ種類の`ios`を`ipad`/`iphone`/`ipod`に分離

### DEPRECATED

* `_text()`/`_html()`を将来廃止予定に

# 0.3.8 (2015-11-21)

* 0.3.7の修正がNode.js 0.10系だと不十分だったので再度修正

# 0.3.7 (2015-11-15)

* 受信サイズ制限オプション(`maxDataSize`)追加(#8)
* フォーム送信時のパラメータ名がURLエンコードされていなかったのを修正
* 不必要な空GETパラメータが入ってフォーム送信が上手く行かないケースを修正

# 0.3.6 (2015-11-08)

* 生DOM要素から作成したcheerioオブジェクトでclickやsubmitがエラーになっていたのを修正(#7)

# 0.3.5 (2015-11-03)

* submit時、input要素にvalue属性が無いとパラメータにundefinedが入るのを修正(#6)

# 0.3.4 (2015-10-29)

* 依存ライブラリを最新バージョンに更新
* POST後のリダイレクト先の指定がおかしかったのを修正(#4)
* `submit()`時のパラメータ指定で数字の0を指定した場合に空扱いされてしまうのを修正
* READMEにBasic認証についてのTips追加

# 0.3.3 (2015-08-30)

* 依存ライブラリを最新バージョンに更新
* `debug`オプション追加
* `setBrowser()`で指定するブラウザ種類に`edge`と`vivaldi`を追加
* デフォルトのUser-AgentをIEからChromeに変更(現在のブラウザシェア率的に)

# 0.3.2 (2015-05-11)

* 依存ライブラリを最新バージョンに更新
* 元からHTMLエンティティで表記されている文字列を`.text()`や`.html()`で取得する際に可読文字にデコードするように変更(HTMLエンティティのままにしておきたい場合は`._text()`および`._html()`で可能)
* Shift_JISのページをiconvでUTF-8に変換する際にチルダが波ダッシュ(0x301C)に変換されてしまう不具合を修正
* iconv-jpをデフォルトの文字コード変換エンジン候補から除外(長期間メンテされていないため)
* サイト側のHTML構成が変わって動かなくなっていたサンプルスクリプトを修正

# 0.3.1 (2015-02-15)

* 依存ライブラリを最新バージョンに更新
* `.html()`で取得する文字列がHTMLエンティティに変換されないようにした

# 0.3.0 (2015-01-14)

* `fetch()`をプロミス形式と従来のコールバック形式とのハイブリッド化
* `fetch()`のcallback第2引数のcheerioオブジェクトのプロトタイプを独自拡張し、以下のメソッドを追加
    * `$.documentInfo()`
    * `$(<form element>).submit()`
    * `$(<link element>).click()`
* `fetch()`のcallback第3引数のresponseオブジェクトに`cookies`プロパティを追加
* `fetch()`のcallback第4引数にUTF-8変換後の生HTMLコンテンツを追加
* `setBrowser()`実装(ブラウザごとのUser-Agentの簡易指定)
* 自動的にRefererをセットするオプション追加
* テスト機構を一新(mocha & power-assert & blanket)

# 0.2.0 (2014-06-22)

* デフォルトでiconv-liteを使用するように変更(ネイティブモジュールをコンパイルするためのVisualStudioなどの開発環境のないWindowsでもインストールできるようになった)
* 文字コードの判別にjschardetを利用するようにした
* requestモジュールのクッキーを有効にした
* デフォルトのUser-Agent情報をIE11にした

# 0.1.3 (2013-09-09)

* エラーオブジェクトに呼び出し時にセットした`param`を追加

# 0.1.2 (2013-09-06)

* リクエストヘッダのHostを自動でセットするようにした
* gzip転送オプション追加
* `fetch()`のcallbackの第3引数にrequestモジュールの`response`オブジェクトを追加
* HTTPステータスコードが200以外によるエラーでもコンテンツを取得するようにした

# 0.1.1 (2013-04-11)

* charset=xxxというようにダブル(or シングル)クォーテーションがない場合に文字コードの判定に失敗するケースを修正

# 0.1.0 (2013-03-18)

* 初版リリース
